geom_point()
library(ggplot2)
mtcars |>
mutate(cyl = factor(cyl)) |>
ggplot() +
aes(hp, mpg, group = cyl, color = cyl) +
geom_point()
library(dplyr)
mtcars |>
mutate(cyl = factor(cyl)) |>
ggplot() +
aes(hp, mpg, group = cyl, color = cyl) +
geom_point()
?scale_fill_manual
library(ggplot2)
library(dplyr)
mtcars |>
mutate(cyl = factor(cyl)) |>
ggplot() +
aes(hp, mpg, group = cyl, color = cyl) +
scale_fill_manual(
values = colorRamp(c("blue", "red", 3))
) +
geom_point()
brewer.pal(3, "dark2")
brewer.pal(3, "Dark2")
brewer.pal(3, "Dark2") |> dput()
mtcars |>
mutate(cyl = factor(cyl)) |>
ggplot() +
aes(hp, mpg, group = cyl, color = cyl) +
scale_fill_manual(
values = c("#1B9E77", "#D95F02", "#7570B3")
) +
geom_point()
?scale_color_manual
mtcars |>
mutate(cyl = factor(cyl)) |>
ggplot() +
aes(hp, mpg, group = cyl, color = cyl) +
scale_color_manual(
values = c("#1B9E77", "#D95F02", "#7570B3")
) +
geom_point()
?colorRamp
colorRamp(c("red", "green"))( (0:4)/4 )
colorRampPalette(c(rgb(0,0,1,1), rgb(0,0,1,0)), alpha = TRUE)(8)
stop_server()
blogdown:::new_post_addin()
install.packages("tidycensus")
## Load frequently used packages for blog posts
packages <- c(
'devtools', #for session info
'ggthemes', #for plots
'blogdown',
'tidycensus'
)
lapply(packages, function(x) {
if (!requireNamespace(x)) install.packages(x)
library(x, character.only = TRUE)
})
?tidycensus::get_pums
census_api_key("f0530875c767d11bffc8ae3741a9f09e07bcf6bc")
census_api_key("f0530875c767d11bffc8ae3741a9f09e07bcf6bc", install = TRUE)
readRenviron("~/.Renviron")
age10 <- get_decennial(geography = "state",
variables = "P013001",
year = 2010)
age10 <- get_decennial(geography = "state",
variables = "P013001",
year = 2010)
age10
age10 <- get_decennial(geography = "state",
variables = "P013001",
year = c(2010, 2020)
)
age10 <- get_decennial(geography = "state",
variables = "P013001",
year = c(2010))
v17 <- load_variables(2017, "acs5", cache = TRUE)
View(v17)
v17.block <- filter(v17, geography = "block_group")
v17.block <- filter(v17, geography == "block_group")
v17.block <- dplyr::filter(v17, geography == "block_group")
v17.block <- dplyr::filter(v17, geography == "block group")
View(v17.block)
?get_acs
View(v17)
get_acs(
geography = "block group",
year = 2017,
variables = "B00001_001",
state = "VA"
)
```{r population}
bg_17 <- get_acs(
geography = "block group",
year = 2017,
variables = "B00001_001",
state = "VA"
)
View(bg_17)
bg_17 <- get_acs(
geography = "block group",
year = 2017,
variables = c(population = "B00001_001"),
state = "VA"
)
View(bg_17)
bg_17 <- get_acs(
geography = "block group",
year = 2017,
variables = c(population = "B00001_001",
housing_units = "B00002_001"),
state = "VA"
)
View(bg_17)
View(v17)
citr:::insert_citation()
citr:::insert_citation()
blogdown:::new_post_addin()
map <- readRDS("./map.rds")
blogdown::serve_site()
blogdown::serve_site()
## Load frequently used packages for blog posts
packages <- c(
'devtools', #for session info
'ggthemes', #for plots
'blogdown',
'leaflet'
)
lapply(packages, function(x) {
if (!requireNamespace(x)) install.packages(x)
library(x, character.only = TRUE)
})
## Do not break chunk line
## Do not use spaces or periods "." or underscores "_"
## set options for knitr
knitr::opts_chunk$set(
comment = '',
fig.width = 6,
fig.asp = .8,
fig.align="center",
message=F,
error=F,
warning=F,
tidy=T,
comment='',
cache=T,
dev='svg',
echo=F
)
#from ggthemes
library(ggplot2); theme_set(ggthemes::theme_fivethirtyeight())
# color blind friendly palette from http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/
cbPalette <- c("#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7", "#000000")
# write packages used to bib in current directory
knitr::write_bib(.packages(), "./packages.bib")
map <- readRDS("./map.rds")
map |>
leaflet() |>
addProviderTiles(providers$CartoDB.Positron, group = "Positron") |>
setView(-93.65, 42.0285, zoom = 4) |>
addPolygons(
data = map,
color = map$color,
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = .5,
label = paste0(
map$namelsad,
" ",
round(map$pct, 1),
"%"
)
) |>
addLegend(
"bottomright",
colors = brewer.pal(7, "RdBu"),
labels = c(
"-100% to -15.9%",
"-15.9% to -1.33%",
"-1.33% to 11.6%",
"11.6% to 26.1%",
"26.1% to 44.3%",
"44.3% to 78.5%",
"78.5% to 3060%"
),
# values = map$cut_pct,
title = "Total Jobs 1990 - 2021",
labFormat = labelFormat(prefix = ""),
opacity = 1
)
## Load frequently used packages for blog posts
packages <- c(
'devtools', #for session info
'ggthemes', #for plots
'blogdown',
'leaflet',
'RColorBrewer'
)
lapply(packages, function(x) {
if (!requireNamespace(x)) install.packages(x)
library(x, character.only = TRUE)
})
## Do not break chunk line
## Do not use spaces or periods "." or underscores "_"
## set options for knitr
knitr::opts_chunk$set(
comment = '',
fig.width = 6,
fig.asp = .8,
fig.align="center",
message=F,
error=F,
warning=F,
tidy=T,
comment='',
cache=T,
dev='svg',
echo=F
)
#from ggthemes
library(ggplot2); theme_set(ggthemes::theme_fivethirtyeight())
# color blind friendly palette from http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/
cbPalette <- c("#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7", "#000000")
# write packages used to bib in current directory
knitr::write_bib(.packages(), "./packages.bib")
map <- readRDS("./map.rds")
map |>
leaflet() |>
addProviderTiles(providers$CartoDB.Positron, group = "Positron") |>
setView(-93.65, 42.0285, zoom = 4) |>
addPolygons(
data = map,
color = map$color,
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = .5,
label = paste0(
map$namelsad,
" ",
round(map$pct, 1),
"%"
)
) |>
addLegend(
"bottomright",
colors = brewer.pal(7, "RdBu"),
labels = c(
"-100% to -15.9%",
"-15.9% to -1.33%",
"-1.33% to 11.6%",
"11.6% to 26.1%",
"26.1% to 44.3%",
"44.3% to 78.5%",
"78.5% to 3060%"
),
# values = map$cut_pct,
title = "Total Jobs 1990 - 2021",
labFormat = labelFormat(prefix = ""),
opacity = 1
)
# system & package info
options(width = 120)
session_info()
blogdown::stop_server()
blogdown::serve_site()
map <- readRDS("./map.rds")
group_by(state_name) |>
sf::st_union(geometry)
dplyr::group_by(state_name) |>
sf::st_union(geometry)
states <-
map |>
dplyr::select(state_name, geometry) |>
dplyr::group_by(state_name) |>
sf::st_union(geometry)
states <-
map |>
dplyr::select(state_name, geometry) |>
dplyr::group_by(state_name) |>
sf::st_union()
plot(states)
states <-
map |>
dplyr::select(state_name, geometry) |>
dplyr::group_by(state_name) |>
sf::st_union(state_name)
summarize(geometry = sf::st_union(geometry)
states <-
map |>
dplyr::select(state_name, geometry) |>
dplyr::group_by(state_name) |>
summarize(geometry = sf::st_union(geometry))
states <-
map |>
dplyr::select(state_name, geometry) |>
dplyr::group_by(state_name) |>
dplyr::summarize(geometry = sf::st_union(geometry))
plot(states)
?addPolygons
?leaflet::addPolygons
blogdown::serve_site()
map |>
leaflet() |>
addProviderTiles(providers$CartoDB.Positron, group = "Positron") |>
setView(-93.65, 42.0285, zoom = 4) |>
addPolygons(
data = map,
color = map$color,
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = .5,
label = paste0(
map$namelsad,
" ",
round(map$pct, 1),
"%"
)
) |>
addPolygons(
data = states,
color = "black",
fill = FALSE
) |>
addLegend(
"bottomright",
colors = brewer.pal(7, "RdBu"),
labels = c(
"-100% to -15.9%",
"-15.9% to -1.33%",
"-1.33% to 11.6%",
"11.6% to 26.1%",
"26.1% to 44.3%",
"44.3% to 78.5%",
"78.5% to 3060%"
),
# values = map$cut_pct,
title = "Total Jobs 1990 - 2021",
labFormat = labelFormat(prefix = ""),
opacity = 1
)
library(leaflet)
map |>
leaflet() |>
addProviderTiles(providers$CartoDB.Positron, group = "Positron") |>
setView(-93.65, 42.0285, zoom = 4) |>
addPolygons(
data = map,
color = map$color,
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = .5,
label = paste0(
map$namelsad,
" ",
round(map$pct, 1),
"%"
)
) |>
addPolygons(
data = states,
color = "black",
fill = FALSE
) |>
addLegend(
"bottomright",
colors = brewer.pal(7, "RdBu"),
labels = c(
"-100% to -15.9%",
"-15.9% to -1.33%",
"-1.33% to 11.6%",
"11.6% to 26.1%",
"26.1% to 44.3%",
"44.3% to 78.5%",
"78.5% to 3060%"
),
# values = map$cut_pct,
title = "Total Jobs 1990 - 2021",
labFormat = labelFormat(prefix = ""),
opacity = 1
)
library(RColorBrewer)
map |>
leaflet() |>
addProviderTiles(providers$CartoDB.Positron, group = "Positron") |>
setView(-93.65, 42.0285, zoom = 4) |>
addPolygons(
data = map,
color = map$color,
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = .5,
label = paste0(
map$namelsad,
" ",
round(map$pct, 1),
"%"
)
) |>
addPolygons(
data = states,
color = "black",
fill = FALSE
) |>
addLegend(
"bottomright",
colors = brewer.pal(7, "RdBu"),
labels = c(
"-100% to -15.9%",
"-15.9% to -1.33%",
"-1.33% to 11.6%",
"11.6% to 26.1%",
"26.1% to 44.3%",
"44.3% to 78.5%",
"78.5% to 3060%"
),
# values = map$cut_pct,
title = "Total Jobs 1990 - 2021",
labFormat = labelFormat(prefix = ""),
opacity = 1
)
## Load frequently used packages for blog posts
packages <- c(
'devtools', #for session info
'ggthemes', #for plots
'blogdown',
'leaflet',
'RColorBrewer',
'sf',
'dplyr',
'tibble'
)
lapply(packages, function(x) {
if (!requireNamespace(x)) install.packages(x)
library(x, character.only = TRUE)
})
## Do not break chunk line
## Do not use spaces or periods "." or underscores "_"
## set options for knitr
knitr::opts_chunk$set(
comment = '',
fig.width = 6,
fig.asp = .8,
fig.align="center",
message=F,
error=F,
warning=F,
tidy=T,
comment='',
cache=T,
dev='svg',
echo=F
)
#from ggthemes
library(ggplot2); theme_set(ggthemes::theme_fivethirtyeight())
# color blind friendly palette from http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/
cbPalette <- c("#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7", "#000000")
# write packages used to bib in current directory
knitr::write_bib(.packages(), "./packages.bib")
map <- readRDS("./map.rds")
states <-
map |>
dplyr::select(state_name, geometry) |>
dplyr::group_by(state_name) |>
dplyr::summarize(geometry = sf::st_union(geometry))
map |>
leaflet() |>
addProviderTiles(providers$CartoDB.Positron, group = "Positron") |>
setView(-93.65, 42.0285, zoom = 4) |>
addPolygons(
data = map,
color = map$color,
stroke = FALSE,
smoothFactor = 0.2,
fillOpacity = .5,
label = paste0(
map$namelsad,
" ",
round(map$pct, 1),
"%"
)
) |>
addPolygons(
data = states,
color = "black",
fill = FALSE,
weight = 1
) |>
addLegend(
"bottomright",
colors = brewer.pal(7, "RdBu"),
labels = c(
"-100% to -15.9%",
"-15.9% to -1.33%",
"-1.33% to 11.6%",
"11.6% to 26.1%",
"26.1% to 44.3%",
"44.3% to 78.5%",
"78.5% to 3060%"
),
# values = map$cut_pct,
title = "Total Jobs 1990 - 2021",
labFormat = labelFormat(prefix = ""),
opacity = 1
)
# system & package info
options(width = 120)
session_info()
blogdown::stop_server()
blogdown::serve_site()
